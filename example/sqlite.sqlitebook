{"cells":[{"content":"# Welcome to the `SQLite` notebook!","kind":1,"languageId":"markdown","executionSummary":{},"metadata":{}},{"content":"This notebook has a `.sqlitebook` file extension.\n\nTo play around with this book, we recommend that you select the `SQLite` kernel at the top right of the screen.","kind":1,"languageId":"markdown","executionSummary":{},"metadata":{}},{"content":"## Here are some examples of how it works.","kind":1,"languageId":"markdown","executionSummary":{},"metadata":{}},{"content":"### Example 1: Create 3 tables and select data from them","kind":1,"languageId":"markdown","executionSummary":{},"metadata":{}},{"content":"/* create programmers table. */\nCREATE TABLE programmers(\n   id      INTEGER  PRIMARY KEY AUTOINCREMENT NOT NULL,\n   name    TEXT     NOT NULL,\n   age     INTEGER  NOT NULL,\n   skills  CHAR(50)\n);\n\n/* create companies table. */\nCREATE TABLE companies(\n   id      INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n   name    TEXT    NOT NULL,\n   raiting INTEGER DEFAULT 3\n);\n\n/* create programmers_companies table. */\nCREATE TABLE programmers_companies(\n   company_id    INT  NOT NULL,\n   programmer_id INT  NOT NULL,\n   working_since TEXT NOT NULL DEFAULT (datetime('now')),\n   \n   PRIMARY KEY(company_id, programmer_id),\n\n   FOREIGN KEY(company_id)    REFERENCES companies(id),\n   FOREIGN KEY(programmer_id) REFERENCES programmers(id)\n);\n\n/* insert values into programmers table. */\nINSERT INTO programmers(id, name, age, skills) VALUES\n(1, 'Peter', 23, 'Java Developer'),\n(2, 'Paula', 27, 'Frontend Developer'),\n(3, 'Alex',  20, 'Swift Developer'),\n(4, 'Sean',  28, 'HR');\n\n/* insert values into companies table. */\nINSERT INTO companies(id, name, raiting) VALUES\n(1, 'Google', 5),\n(2, 'Microsoft', 5),\n(3, 'WorstSoft', 2);\n\n/* insert values into programmers_companies table. */\nINSERT INTO programmers_companies(company_id, programmer_id) VALUES\n(1, 1),\n(1, 2),\n(2, 3);\n\n/* select companies and programmers tables info */\nSELECT c.name as 'Company name', p.name as 'Developer name', p.skills as 'Skills'\nFROM companies c INNER JOIN programmers_companies pc ON c.id = pc.company_id\nINNER JOIN programmers p ON pc.programmer_id = p.id\nORDER BY p.age DESC;\n\n/* select all companies sorted by raiting */\nSELECT name as 'Company name', raiting as 'Company raiting'\nFROM companies\nORDER BY raiting;\n","kind":2,"languageId":"sql","executionSummary":{},"metadata":{}},{"content":"### Example 2: Syntax error","kind":1,"languageId":"markdown","executionSummary":{},"metadata":{}},{"content":"-- create test table --\nCREATE TABLE tests(\n   id      INTEGER PRIMARY KEY AUTOINC NOT NULL, /* Error: AUTOINC must be AUTOINCREMENT */\n   name    TEXT    NOT NULL\n);\n","kind":2,"languageId":"sql","executionSummary":{},"metadata":{}},{"content":"### Example 3: Working with `local file` (not deleted after script execution)\n\nTo test this script, please copy the `example.db` file from [examples/assets/sqlite](https://github.com/MonkeyBuisness/cellementary-extension/blob/master/example/assets/sqlite) folder to your computer and set the path to this file in the `db-path` metadata filed.\n\nThe `example.db` file was created using the following SQLite script:\n```sql\n-- create todos table --\nCREATE TABLE todos(\n   id      INTEGER          PRIMARY KEY AUTOINCREMENT NOT NULL,\n   name    TEXT                                       NOT NULL,\n   status  TEXT CHECK(status IN ('DONE', 'NOT_DONE')) NOT NULL DEFAULT 'NOT_DONE'\n);\n```","kind":1,"languageId":"markdown","executionSummary":{},"metadata":{}},{"content":"-- add a new TODO --\nINSERT INTO todos(name) VALUES ('Buy milk');\n\n-- select all todos --\nSELECT name, status\nFROM todos;\n","kind":2,"languageId":"sql","executionSummary":{},"metadata":{"db-path":"/home/artsem/Documents/example.db"}}],"metadata":{}}